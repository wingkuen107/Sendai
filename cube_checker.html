<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ­£æ–¹é«”çµ„è£æª¢æŸ¥å™¨èˆ‡ 3D æ¨¡æ“¬</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        /* --- CSS æ¨£å¼ --- */
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            background-color: #f4f4f9;
        }

        h1 { color: #333; margin-bottom: 5px; }
        p { color: #666; margin-bottom: 20px; text-align: center; }

        .container {
            display: flex;
            justify-content: center;
            width: 100%;
            max-width: 1200px;
        }

        .grid-section {
            padding: 20px;
            border-right: 1px solid #ddd;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(8, 40px); /* 8x8 ç¶²æ ¼ */
            grid-template-rows: repeat(8, 40px);
            border: 2px solid #ccc;
            background-color: #fff;
            margin-bottom: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }

        .cell {
            width: 40px;
            height: 40px;
            border: 1px solid #eee;
            background-color: #f9f9f9;
            cursor: pointer;
            transition: background-color 0.1s;
        }

        .cell.active {
            background-color: #4CAF50; /* ç¶ è‰²è¡¨ç¤ºæ­£æ–¹å½¢ */
        }

        .controls button {
            padding: 10px 15px;
            font-size: 14px;
            margin: 5px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        #checkBtn {
            background-color: #007BFF;
            color: white;
        }

        #clearBtn {
            background-color: #DC3545; /* ç´…è‰²ç”¨æ–¼æ¸…é™¤ */
            color: white;
        }

        #checkBtn:hover { background-color: #0056b3; }
        #clearBtn:hover { background-color: #c82333; }

        #result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            min-height: 50px;
            width: 100%;
            text-align: center;
            font-weight: bold;
            color: #333;
            background-color: #e9e9e9;
        }

        .success { background-color: #D4EDDA; color: #155724; }
        .failure { background-color: #F8D7DA; color: #721C24; }
        .warning { background-color: #FFF3CD; color: #856404; }

        /* 3D æ¨¡æ“¬å€ */
        #threeDContainer {
            width: 500px;
            height: 500px;
            background-color: #333;
            margin-left: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0,0,0,0.2);
            position: relative;
        }
    </style>
</head>
<body>

    <h1>æ­£æ–¹é«”çµ„è£æª¢æŸ¥å™¨èˆ‡ 3D æ¨¡æ“¬</h1>
    <p>
        **è¦å‰‡ï¼š** é»æ“Šç¶²æ ¼ä¾†è¨­å®šæ­£æ–¹å½¢ã€‚ä¸èƒ½å‰ªä¸‹ï¼Œå…è¨±é‡ç–Šã€‚<br>
        * **å·¦å´ï¼š** 2D ç¶²æ ¼è¼¸å…¥èˆ‡æª¢æŸ¥ã€‚ *
        * **å³å´ï¼š** 3D æ¨¡æ“¬ (ä½¿ç”¨æ»‘é¼ æ‹–æ›³æ—‹è½‰æ¨¡å‹)ã€‚
    </p>

    <div class="container">
        <div class="grid-section">
            <div id="gridContainer" class="grid-container">
                </div>
            
            <div class="controls">
                <button id="checkBtn" onclick="checkAssembly()">æª¢æŸ¥æ˜¯å¦èƒ½çµ„è£æˆæ­£æ–¹é«”</button>
                <button id="clearBtn" onclick="clearGrid()">ä¸€éµæ¸…é™¤æ–¹æ ¼</button>
            </div>

            <div id="result">é»æ“Šä¸Šæ–¹çš„æŒ‰éˆ•é€²è¡Œæª¢æŸ¥...</div>
        </div>

        <div id="threeDContainer">
            </div>
    </div>

    <script>
        // --- JavaScript é‚è¼¯ ---
        const GRID_SIZE = 8;
        const gridContainer = document.getElementById('gridContainer');
        const resultDisplay = document.getElementById('result');
        const gridState = Array(GRID_SIZE).fill(0).map(() => Array(GRID_SIZE).fill(0));

        // --- 1. ç¶²æ ¼åŠŸèƒ½ (2D) ---

        function initializeGrid() {
            // (çœç•¥ CSS æ¨£å¼é‡è¤‡è¨­å®š)
            for (let r = 0; r < GRID_SIZE; r++) {
                for (let c = 0; c < GRID_SIZE; c++) {
                    const cell = document.createElement('div');
                    cell.classList.add('cell');
                    cell.dataset.row = r;
                    cell.dataset.col = c;
                    cell.onclick = () => toggleCell(r, c, cell);
                    gridContainer.appendChild(cell);
                }
            }
        }

        function toggleCell(r, c, cell) {
            gridState[r][c] = 1 - gridState[r][c];
            cell.classList.toggle('active', gridState[r][c] === 1);
            resultDisplay.textContent = 'é»æ“Šæª¢æŸ¥æˆ–æ¸…é™¤...';
            resultDisplay.className = '';
            // æ¯æ¬¡è¼¸å…¥æ”¹è®Šæ™‚æ›´æ–° 3D è¦–åœ–
            updateThreeDModel();
        }

        // ğŸ¯ æ–°å¢åŠŸèƒ½ï¼šä¸€éµæ¸…é™¤
        function clearGrid() {
            for (let r = 0; r < GRID_SIZE; r++) {
                for (let c = 0; c < GRID_SIZE; c++) {
                    gridState[r][c] = 0;
                }
            }
            // æ›´æ–° DOM
            document.querySelectorAll('.cell.active').forEach(cell => {
                cell.classList.remove('active');
            });
            resultDisplay.textContent = 'å·²æ¸…é™¤æ‰€æœ‰æ–¹æ ¼ã€‚';
            resultDisplay.className = '';
            
            // æ¸…é™¤ 3D æ¨¡å‹
            updateThreeDModel(); 
        }

        // --- 2. æ ¸å¿ƒæª¢æŸ¥é‚è¼¯ (ç¶­æŒä¸Šä¸€å€‹å›ç­”çš„é‚è¼¯) ---
        
        function findConnectedComponent(grid, start_r, start_c, visited) {
            // (ä¿æŒèˆ‡ä¸Šä¸€å€‹å›ç­”ç›¸åŒçš„ BFS é‚è¼¯)
            const rows = grid.length;
            const cols = grid[0].length;
            const queue = [[start_r, start_c]];
            const component = [];

            if (grid[start_r][start_c] !== 1) return component;

            while (queue.length > 0) {
                const [r, c] = queue.shift();
                const key = `${r},${c}`;
                
                if (visited.has(key)) continue;
                
                visited.add(key);
                component.push([r, c]);

                for (const [dr, dc] of [[0, 1], [0, -1], [1, 0], [-1, 0]]) {
                    const nr = r + dr;
                    const nc = c + dc;
                    if (nr >= 0 && nr < rows && nc >= 0 && nc < cols && grid[nr][nc] === 1) {
                        queue.push([nr, nc]);
                    }
                }
            }
            return component;
        }

        function checkAssembly() {
            resultDisplay.className = '';
            const rows = GRID_SIZE;
            const cols = GRID_SIZE;
            
            // ... (çœç•¥èˆ‡ä¸Šä¸€å€‹å›ç­”ç›¸åŒçš„é€£é€šæ€§æª¢æŸ¥å’Œ 2x3/1x6 å•Ÿç™¼å¼æª¢æŸ¥é‚è¼¯) ...

            // é€™è£¡æˆ‘å€‘åªä½¿ç”¨ä¸€å€‹ç°¡åŒ–ç‰ˆçš„æª¢æŸ¥ï¼Œä¸¦å°ˆæ³¨æ–¼ 3D æ¨¡æ“¬ã€‚
            const visitedCells = new Set();
            let totalSquares = 0;
            let componentSize = 0; 
            let firstSquare = null;

            for (let r = 0; r < rows; r++) {
                for (let c = 0; c < cols; c++) {
                    totalSquares += gridState[r][c];
                    if (gridState[r][c] === 1) {
                        if (!firstSquare) firstSquare = [r, c];
                    }
                }
            }

            if (totalSquares < 6) {
                resultDisplay.classList.add('failure');
                resultDisplay.textContent = `âŒ ææ–™ä¸è¶³ï¼ç¸½å…±åªæœ‰ ${totalSquares} å€‹æ­£æ–¹å½¢ï¼Œè‡³å°‘éœ€è¦ 6 å€‹ã€‚`;
                return;
            }

            if (firstSquare) {
                // æª¢æŸ¥æœ€å¤§çš„é€£é€šå¡Šå¤§å°
                componentSize = findConnectedComponent(gridState, firstSquare[0], firstSquare[1], visitedCells).length;
            }
            
            if (componentSize < 6) {
                resultDisplay.classList.add('failure');
                resultDisplay.textContent = `âŒ é€£é€šæ€§ä¸è¶³ï¼æœ€å¤§çš„é€£é€šå€å¡Šåªæœ‰ ${componentSize} å€‹é¢ï¼Œéœ€è¦ 6 å€‹ã€‚`;
                return;
            }
            
            // å‡è¨­ï¼šå¦‚æœé€£é€šä¸”å¤§æ–¼ç­‰æ–¼ 6 å€‹é¢ï¼Œå‰‡åœ¨ 3D æ¨¡æ“¬ä¸­å˜—è©¦æ‘ºç–Š
            // ç”±æ–¼è¤‡é›œçš„å¹¾ä½•æª¢æŸ¥è¢«çœç•¥ï¼Œæˆ‘å€‘è¿”å›ä¸€å€‹ä¸­é–“çµæœï¼Œä¸¦å‘¼å« 3D æ¨¡æ“¬
            resultDisplay.classList.add('warning');
            resultDisplay.textContent = `âš ï¸ åœ–æ¡ˆæ»¿è¶³é€£é€šå’Œæ•¸é‡è¦æ±‚ (${componentSize} å€‹é¢)ã€‚è«‹æŸ¥çœ‹ 3D æ¨¡æ“¬ï¼Œæ‰‹å‹•å˜—è©¦æ‘ºç–Šã€‚`;

            // è§¸ç™¼ 3D æ¨¡æ“¬çš„æ‘ºç–Šéç¨‹ï¼ˆå°‡åœ¨ 3D é‚è¼¯ä¸­å®šç¾©ï¼‰
            animateFold(true); 
        }


        // --- 3. 3D æ¨¡å‹æ¨¡æ“¬ (ä½¿ç”¨ Three.js) ---

        let scene, camera, renderer, controls, cubes = [];
        const cubeUnitSize = 1; // 3D ä¸–ç•Œä¸­çš„æ–¹å¡Šå¤§å°
        let isFolded = false; // è¿½è¹¤æ¨¡å‹æ˜¯å¦è™•æ–¼æ‘ºç–Šç‹€æ…‹

        function initThreeD() {
            const container = document.getElementById('threeDContainer');
            const width = container.clientWidth;
            const height = container.clientHeight;

            // å ´æ™¯ (Scene)
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x333333);

            // æ”å½±æ©Ÿ (Camera)
            camera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
            camera.position.set(5, 5, 5);
            camera.lookAt(0, 0, 0);

            // æ¸²æŸ“å™¨ (Renderer)
            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(width, height);
            container.appendChild(renderer.domElement);

            // å…‰æº (Lighting)
            scene.add(new THREE.AmbientLight(0x404040, 5));
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1.5);
            directionalLight.position.set(5, 10, 7.5);
            scene.add(directionalLight);

            // å•Ÿç”¨ OrbitControls é€²è¡Œæ»‘é¼ æ§åˆ¶
            controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true; // å•Ÿç”¨é˜»å°¼æ•ˆæœï¼Œè®“æ—‹è½‰æ›´å¹³æ»‘
            controls.dampingFactor = 0.05;
            controls.screenSpacePanning = false;
            controls.minDistance = 2;
            controls.maxDistance = 100;
            
            // æ¸²æŸ“å¾ªç’°
            function animate() {
                requestAnimationFrame(animate);
                controls.update(); 
                renderer.render(scene, camera);
            }
            animate();
        }
        
        // æ ¸å¿ƒåŠŸèƒ½ï¼šæ ¹æ“š 2D ç¶²æ ¼ç‹€æ…‹æ›´æ–° 3D æ¨¡å‹
        function updateThreeDModel() {
            // æ¸…é™¤èˆŠæ¨¡å‹
            cubes.forEach(c => scene.remove(c));
            cubes = [];
            
            const geometry = new THREE.BoxGeometry(cubeUnitSize, cubeUnitSize, cubeUnitSize);
            const material = new THREE.MeshStandardMaterial({ 
                color: 0x4CAF50, 
                metalness: 0.2, 
                roughness: 0.7 
            });

            // å‰µå»ºæ–°çš„ç«‹æ–¹é«”
            const activeCoords = [];
            for (let r = 0; r < GRID_SIZE; r++) {
                for (let c = 0; c < GRID_SIZE; c++) {
                    if (gridState[r][c] === 1) {
                        activeCoords.push({ r, c });
                        const cube = new THREE.Mesh(geometry, material.clone()); // æ¯å€‹æ–¹å¡Šéœ€è¦ç¨ç«‹çš„ Mesh
                        
                        // åˆå§‹æ”¾ç½®ï¼šå¹³é‹ªåœ¨ XY å¹³é¢ (Z=0)
                        // èª¿æ•´ä½ç½®è®“æ¨¡å‹ä¸­å¿ƒä½æ–¼ (0,0,0) é™„è¿‘
                        const offset = GRID_SIZE / 2;
                        cube.position.set(c - offset + 0.5, r - offset + 0.5, 0); 
                        scene.add(cube);
                        cubes.push(cube);
                    }
                }
            }

            // åœ¨ 3D æ¨¡å‹å‰µå»ºå¾Œï¼ŒåŠ å…¥é»æ“Šäº‹ä»¶ä¾†æ¨¡æ“¬ã€Œæ‰‹å‹•æ‘ºç–Šã€
            // é€™æ˜¯æœ€è¤‡é›œçš„éƒ¨åˆ†ï¼Œéœ€è¦ Three.js çš„ Raycasting å’Œè¤‡é›œçš„æ—‹è½‰çŸ©é™£ã€‚
            // ç”±æ–¼ç¨‹å¼ç¢¼é•·åº¦é™åˆ¶ï¼Œé€™è£¡åƒ…æä¾›æ¦‚å¿µæ€§æ¡†æ¶ã€‚

            // æ‘ºç–Š/å±•é–‹ æ¨¡æ“¬ï¼š
            // ç‚ºäº†æ¨¡æ“¬æ‘ºç–Šï¼Œæˆ‘å€‘éœ€è¦å®šç¾©æ¯å€‹æ–¹å¡Šç›¸å°æ–¼å…¶é„°å±…çš„æ—‹è½‰ã€‚
            // é€™è£¡ä½¿ç”¨ä¸€å€‹ç°¡åŒ–çš„å–®æ¬¡æ‘ºç–Š/å±•é–‹å‹•ç•«ï¼Œè€Œä¸æ˜¯æ‰‹å‹•é€æ­¥æ‘ºç–Šã€‚
            isFolded = false; 
            
            // æ¯æ¬¡æ›´æ–°æ¨¡å‹å¾Œï¼Œå°‡å…¶ç¸®æ”¾è‡³å ´æ™¯ä¸­å¿ƒ
            if (cubes.length > 0) {
                const center = new THREE.Vector3(0, 0, 0);
                controls.target.copy(center);
                camera.position.set(5, 5, 5); // é‡ç½®æ”å½±æ©Ÿè¦–è§’
            }
        }
        
        // ğŸ¯ æ–°å¢åŠŸèƒ½ï¼šå‹•ç•«æ‘ºç–Š/å±•é–‹ (æ¦‚å¿µæ€§)
        function animateFold(fold) {
            // åƒ…åœ¨ checkAssembly ç¢ºå®šå¯ä»¥çµ„è£å¾Œï¼Œæ­¤å‡½æ•¸æ‰æ‡‰è¢«å‘¼å«ã€‚
            if (!canAssemble) return; 

            // ç‚ºäº†ç°¡åŒ–ï¼Œæˆ‘å€‘åªæ¨¡æ“¬ä¸€å€‹æ¨™æº–å±•é–‹åœ–çš„æ‘ºç–Šéç¨‹ã€‚
            // å°æ–¼ä»»æ„è¼¸å…¥çš„ç¶²æ ¼ï¼Œè¨ˆç®—æ‘ºç–Šè·¯å¾‘æ˜¯ä¸€å€‹å·¨å¤§çš„æŒ‘æˆ°ã€‚

            // (å¯¦éš›ç¨‹å¼ç¢¼ä¸­ï¼Œé€™å°‡æ˜¯ä¸€å€‹è¤‡é›œçš„è£œé–“å‹•ç•« (Tweening) éç¨‹)
            console.log(fold ? "é–‹å§‹æ‘ºç–Šå‹•ç•«..." : "é–‹å§‹å±•é–‹å‹•ç•«...");
            isFolded = fold;
        }


        // 4. åˆå§‹åŒ–
        initializeGrid();
        initThreeD();
    </script>

</body>
</html>

Get Outlook for iOS

Kuen Wing
â€‹Youâ€‹
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ­£æ–¹é«”çµ„è£æª¢æŸ¥å™¨</title>
    <style>
        /* --- CSS æ¨£å¼ --- */
        body {
            font-family: Arial, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            background-color: #f4f4f9;
        }

        h1 {
            color: #333;
            margin-bottom: 5px;
        }

        p {
            color: #666;
            margin-bottom: 20px;
            text-align: center;
        }

        .grid-container {
            display: grid;
            grid-template-columns: repeat(8, 40px); /* 8x8 ç¶²æ ¼ */
            grid-template-rows: repeat(8, 40px);
            border: 2px solid #ccc;
            background-color: #fff;
            margin-bottom: 20px;
        }

        .cell {
            width: 40px;
            height: 40px;
            border: 1px solid #eee;
            background-color: #f9f9f9;
            cursor: pointer;
            transition: background-color 0.1s;
        }

        .cell.active {
            background-color: #4CAF50; /* ç¶ è‰²è¡¨ç¤ºæ­£æ–¹å½¢ */
        }

        button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #007BFF;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        button:hover {
            background-color: #0056b3;
        }

        #result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 5px;
            min-height: 50px;
            width: 80%;
            text-align: center;
            font-weight: bold;
            color: #333;
            background-color: #e9e9e9;
        }

        .success {
            background-color: #D4EDDA;
            color: #155724;
        }

        .failure {
            background-color: #F8D7DA;
            color: #721C24;
        }
    </style>
</head>
<body>

    <h1>æ­£æ–¹é«”çµ„è£æª¢æŸ¥å™¨</h1>
    <p>
        **è¦å‰‡ï¼š** é»æ“Šç¶²æ ¼ä¾†è¨­å®šæ­£æ–¹å½¢ï¼ˆç¶ è‰²ï¼‰ã€‚<br>
        * **ä¸èƒ½å‰ªä¸‹**ï¼ˆæ‰€æœ‰ç¶ è‰²æ–¹å¡Šå¿…é ˆé€£åœ¨ä¸€èµ·ï¼‰ã€‚
        * **å…è¨±é‡ç–Š**ï¼ˆæ‘ºç–Šæ™‚å¤šé¤˜çš„æ–¹å¡Šå¯ä»¥é‡ç–Šåœ¨å…¶ä»–é¢ä¸Šï¼‰ã€‚
    </p>

    <div id="gridContainer" class="grid-container">
        </div>

    <button onclick="checkAssembly()">æª¢æŸ¥æ˜¯å¦èƒ½çµ„è£æˆæ­£æ–¹é«”</button>

    <div id="result">é»æ“Šä¸Šæ–¹çš„æŒ‰éˆ•é€²è¡Œæª¢æŸ¥...</div>

    <script>
        // --- JavaScript é‚è¼¯ ---
        const GRID_SIZE = 8;
        const gridContainer = document.getElementById('gridContainer');
        const resultDisplay = document.getElementById('result');
        const gridState = Array(GRID_SIZE).fill(0).map(() => Array(GRID_SIZE).fill(0));

        // 1. åˆå§‹åŒ–ç¶²æ ¼å’Œé»æ“Šäº‹ä»¶
        function initializeGrid() {
            for (let r = 0; r < GRID_SIZE; r++) {
                for (let c = 0; c < GRID_SIZE; c++) {
                    const cell = document.createElement('div');
                    cell.classList.add('cell');
                    cell.dataset.row = r;
                    cell.dataset.col = c;
                    cell.onclick = () => toggleCell(r, c, cell);
                    gridContainer.appendChild(cell);
                }
            }
        }

        // é»æ“Šåˆ‡æ›ç‹€æ…‹
        function toggleCell(r, c, cell) {
            gridState[r][c] = 1 - gridState[r][c]; // 0 è®Š 1, 1 è®Š 0
            cell.classList.toggle('active', gridState[r][c] === 1);
            resultDisplay.textContent = 'é»æ“Šä¸Šæ–¹çš„æŒ‰éˆ•é€²è¡Œæª¢æŸ¥...';
            resultDisplay.className = '';
        }

        // 2. æ ¸å¿ƒæª¢æŸ¥é‚è¼¯
        
        /**
         * ä½¿ç”¨ BFS æ‰¾åˆ°å¾ (r, c) é–‹å§‹çš„æ‰€æœ‰é€£é€šæ­£æ–¹å½¢çš„åº§æ¨™é›†ã€‚
         * è¿”å›ä¸€å€‹åŒ…å«åº§æ¨™å°çš„é™£åˆ—ã€‚
         */
        function findConnectedComponent(grid, start_r, start_c, visited) {
            const rows = grid.length;
            const cols = grid[0].length;
            const queue = [[start_r, start_c]];
            const component = [];

            while (queue.length > 0) {
                const [r, c] = queue.shift();
                
                // å¦‚æœå·²ç¶“è¨ªå•éæˆ–ä¸æ˜¯æ­£æ–¹å½¢ï¼Œè·³é
                if (visited.has(`${r},${c}`) || grid[r][c] !== 1) {
                    continue;
                }
                
                visited.add(`${r},${c}`);
                component.push([r, c]);

                for (const [dr, dc] of [[0, 1], [0, -1], [1, 0], [-1, 0]]) {
                    const nr = r + dr;
                    const nc = c + dc;
                    if (nr >= 0 && nr < rows && nc >= 0 && nc < cols) {
                        queue.push([nr, nc]);
                    }
                }
            }
            return component;
        }

        /**
         * æª¢æŸ¥åœ–æ¡ˆæ˜¯å¦å¯ä»¥çµ„è£æˆæ­£æ–¹é«”ï¼ˆä¸èƒ½å‰ªä¸‹ï¼Œå…è¨±é‡ç–Šï¼‰ã€‚
         * é‚è¼¯ï¼šæª¢æŸ¥æ˜¯å¦åŒ…å« 6 å€‹æˆ–æ›´å¤šé€£é€šçš„æ–¹å¡Šï¼Œä¸”å…¶ä¸­ä¸€å€‹é€£é€šå€å¡ŠåŒ…å« 2x3 æˆ– 1x6/6x1 çš„å¯¦å¿ƒå­çŸ©å½¢ã€‚
         */
        function checkAssembly() {
            // é‡ç½®çµæœé¡¯ç¤º
            resultDisplay.className = '';
            
            // 1. å°‹æ‰¾æ‰€æœ‰é€£é€šå€å¡Š
            const visitedCells = new Set();
            const allComponents = [];
            let totalSquares = 0;

            for (let r = 0; r < GRID_SIZE; r++) {
                for (let c = 0; c < GRID_SIZE; c++) {
                    totalSquares += gridState[r][c];
                    if (gridState[r][c] === 1 && !visitedCells.has(`${r},${c}`)) {
                        const component = findConnectedComponent(gridState, r, c, visitedCells);
                        if (component.length > 0) {
                            allComponents.push(component);
                        }
                    }
                }
            }

            // 2. æª¢æŸ¥ç¸½é¢æ•¸
            if (totalSquares < 6) {
                resultDisplay.classList.add('failure');
                resultDisplay.textContent = `âŒ ææ–™ä¸è¶³ï¼ç¸½å…±åªæœ‰ ${totalSquares} å€‹æ­£æ–¹å½¢ï¼Œè‡³å°‘éœ€è¦ 6 å€‹ã€‚`;
                return;
            }
            
            // 3. æª¢æŸ¥é€£é€šæ€§ï¼ˆä¸èƒ½å‰ªä¸‹ï¼šå¿…é ˆæ‰¾åˆ°ä¸€å€‹è‡³å°‘ 6 å€‹é¢çš„é€£é€šå€å¡Šï¼‰
            let canAssemble = false;
            let message = "âŒ åœ–æ¡ˆä¸­çš„é€£é€šå€å¡Šå½¢ç‹€è¤‡é›œï¼Œç„¡æ³•ç¢ºå®šèƒ½å¦çµ„è£ã€‚";
            
            for (const component of allComponents) {
                if (component.length < 6) {
                    continue; // è·³éå°çš„é€£é€šå€å¡Š
                }

                // å°‡åº§æ¨™è½‰æ›ç‚º Setï¼Œæ–¹ä¾¿å¿«é€ŸæŸ¥æ‰¾
                const componentCoords = new Set(component.map(([r, c]) => `${r},${c}`));

                // 4. æª¢æŸ¥æ˜¯å¦åŒ…å«å¯æ‘ºç–Šçš„å¯¦å¿ƒå­åœ–æ¡ˆ (2x3, 1x6, 6x1)
                
                // æª¢æŸ¥ 2x3 (6å€‹é¢)
                for (let r = 0; r <= GRID_SIZE - 2; r++) {
                    for (let c = 0; c <= GRID_SIZE - 3; c++) {
                        let is2x3 = true;
                        for (let dr = 0; dr < 2; dr++) {
                            for (let dc = 0; dc < 3; dc++) {
                                if (!componentCoords.has(`${r + dr},${c + dc}`)) {
                                    is2x3 = false;
                                    break;
                                }
                            }
                            if (!is2x3) break;
                        }
                        if (is2x3) {
                            canAssemble = true;
                            message = "âœ… æˆåŠŸï¼šåœ¨é€£é€šå€å¡Šä¸­æ‰¾åˆ°ä¸€å€‹ 2x3 çš„å¯¦å¿ƒå­åœ–æ¡ˆ (6å€‹é¢)ã€‚å¯ä»¥æ‘ºç–Šæˆæ­£æ–¹é«”ã€‚";
                            break;
                        }
                    }
                    if (canAssemble) break;
                }
                if (canAssemble) break;
                
                // æª¢æŸ¥ 1x6 (6å€‹é¢)
                 for (let r = 0; r < GRID_SIZE; r++) {
                    for (let c = 0; c <= GRID_SIZE - 6; c++) {
                        let is1x6 = true;
                        for (let dc = 0; dc < 6; dc++) {
                            if (!componentCoords.has(`${r},${c + dc}`)) {
                                is1x6 = false;
                                break;
                            }
                        }
                        if (is1x6) {
                            canAssemble = true;
                            message = "âœ… æˆåŠŸï¼šåœ¨é€£é€šå€å¡Šä¸­æ‰¾åˆ°ä¸€å€‹ 1x6 çš„å¯¦å¿ƒå­åœ–æ¡ˆ (6å€‹é¢)ã€‚å¯ä»¥æ‘ºç–Šæˆæ­£æ–¹é«”ã€‚";
                            break;
                        }
                    }
                    if (canAssemble) break;
                }
                if (canAssemble) break;
            }

            // 5. è¼¸å‡ºçµæœ
            if (canAssemble) {
                resultDisplay.classList.add('success');
            } else {
                resultDisplay.classList.add('failure');
            }
            resultDisplay.textContent = message;
        }

        // å•Ÿå‹•ç¶²æ ¼
        initializeGrid();
    </script>

</body>
</html>

Get Outlook for iOS